# ===================================================
# MoFox 月经周期插件配置示例
# 版本: v1.2.0
# ===================================================

[plugin]
# 是否启用插件
enabled = true

# 配置文件版本（请勿修改）
config_version = "1.2.0"

# 调试模式（开启后会输出详细日志）
debug_mode = false

# ===================================================
# 月经周期配置
# ===================================================
[cycle]
# 月经周期长度（天）
cycle_length = 28

# 是否自动检测和适应周期变化
auto_detect = true

# ===================================================
# 各阶段影响强度 (0.0 ~ 1.0)
# ===================================================
[impacts]
# 月经期
menstrual_physical = 0.8       # 生理影响强度
menstrual_psychological = 0.7  # 心理影响强度

# 卵泡期
follicular_physical = 0.1
follicular_psychological = 0.1

# 排卵期
ovulation_physical = 0.4
ovulation_psychological = 0.2

# 黄体期
luteal_physical = 0.6
luteal_psychological = 0.5

# ===================================================
# KFC 集成配置（私聊模式）
# ===================================================
[kfc_integration]
# 是否启用 KFC 集成
enabled = true

# 工作模式: "unified"(统一) 或 "split"(分离)
mode = "unified"

# 提示词注入优先级
priority = 100

# ===================================================
# 🔓 破限系统配置（新增）
# ===================================================
[jailbreak]
# 是否启用破限系统
# true = 启用世界观设定，实现内容解锁
# false = 完全禁用破限
enabled = true

# 破限强度等级
# "low"    = 低强度，温和的开放度调整
# "medium" = 中等强度，平衡开放度和自然度 【推荐】
# "high"   = 高强度，完全开放的场景
intensity = "medium"

# KFC 增强模式
# true = 在私聊模式下启用更深度的内容解锁
# false = 仅使用基础破限
enhanced_mode = true

# ===================================================
# 淫乱度与高潮值系统（仅 KFC 模式）
# ===================================================
[lust_system]
# 是否启用淫乱度系统
enabled = true

# --- 阈值设置 ---
# 高潮阈值（达到此值触发高潮）
orgasm_threshold = 100.0

# 前戏阈值
foreplay_threshold = 20.0

# 正戏阈值
main_threshold = 60.0

# --- 评分与衰减 ---
# 基础得分权重（调整 LLM 评分对高潮值的影响）
base_score_weight = 1.0

# 高潮值衰减率（每秒减少的分数）
decay_rate = 0.1

# --- 高潮后恢复 ---
# 高潮后高潮值恢复比例（相对于 main_threshold）
# 例如 0.4 表示恢复至正戏阈值的 40%
post_orgasm_recovery_ratio = 0.4

# --- 初始化配置 ---
# 初始高潮值系数
# 计算公式: lust_level × foreplay_threshold × initial_ratio
initial_ratio = 0.5

# 被动/主动阈值系数
# 计算公式: foreplay_threshold × passive_active_ratio
passive_active_ratio = 0.3

# --- 终止机制 ---
# 低评分阈值（低于此值视为低评分）
low_score_threshold = 3.0

# 连续低评分次数触发加速衰减
low_score_count_to_terminate = 3

# 加速衰减倍率
termination_decay_multiplier = 2.0

# 冷却持续时间（秒）
# 仅用于体力不支终止（高潮次数用尽）
cooldown_duration = 300

# --- LLM 模型 ---
# 用于评分的 LLM 模型（使用系统默认 judge 模型）
llm_model = "judge_model"

# ===================================================
# 备份配置
# ===================================================
[backup]
# 是否自动备份配置和数据
auto_backup = true

# 备份保留天数
backup_days = 30

# ===================================================
# 配置说明
# ===================================================
# 
# 1. 破限系统使用：
#    - 首次使用建议: intensity = "medium", enhanced_mode = true
#    - 如效果不明显: 提升到 "high"
#    - 如表现过于露骨: 降低到 "low" 或关闭 enhanced_mode
#    - 完全禁用: enabled = false
#
# 2. 月经周期调整：
#    - 修改 cycle_length 以匹配你的周期
#    - 调整各阶段的 impact 强度以控制状态影响
#
# 3. 淫乱度系统微调：
#    - 修改阈值可改变性行为阶段的节奏
#    - 调整衰减率可控制高潮值下降速度
#    - 修改恢复比例可控制高潮后的状态
#
# 详细说明请参阅：破限系统使用指南.md
# ===================================================
